<!-- <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>网易云音乐 API</title>
</head>
<body>
  <h1>网易云音乐 API</h1>
  当你看到这个页面时,这个服务已经成功跑起来了~
  <a href="https://binaryify.github.io/NeteaseCloudMusicApi/">查看文档</a>
  <h2>例子:</h2>
  <ul>
    <li>1. <a href="/search?keywords=告白气球">搜索</a></li>
    <li>2. <a href="/comment/music?id=186016&limit=1">歌曲评论</a></li>
    <li>3. <a href="/dj/program?rid=336355127">电台节目</a></li>
		<li>4. <a href="/music/url?id=347230">歌曲</a></li>
		<li>5. <a href="player.html">播放</a></li>
  </ul>
  <style>
    html,body{
      height: 100vh;
      width: 100vw;
      margin: 0;
      padding: 0;
      background: #ffffff;
      text-align: center;
      margin-top:30px;
      overflow: hidden;
    }
    *{
      color:rgb(100,100,100);
    }
    a{
      color:#42b983;
    }
    ul,li{
      margin: 0;
    }
    ul{
      margin-left: -40px;
      line-height: 30px;
    }
    li{
      list-style: none;
    }
  </style>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>热门歌曲</title>

<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/font-awesome.min.css">

<!-- Main css -->
<link rel="stylesheet" href="css/style.css">
<link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,700" rel="stylesheet">

</head>
<body>



<!-- PRE LOADER -->

<div class="preloader">
     <div class="sk-spinner sk-spinner-wordpress">
          <span class="sk-inner-circle"></span>
     </div>
</div>

<!-- Navigation section  -->

<nav class="navbar navbar-default" role="navigation">
	<div class="container-fluid"> 
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target="#example-navbar-collapse">
			<span class="sr-only">切换导航</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" href="index.html">首页</a>
	</div>
	<div class="collapse navbar-collapse" id="example-navbar-collapse">
		<ul class="nav navbar-nav">
			<li class="active"><a href="#">介绍</a></li>
			<li><a href="#">语音</a></li>
			<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">
					搜索 <b class="caret"></b>
				</a>
				<ul class="dropdown-menu">
					<li><a href="search_songs.html">歌曲</a></li>
					<li><a href="search_singers.html">歌手</a></li>
					<!-- <li><a href="#">歌单</a></li> -->
					<!-- <li class="divider"></li> -->
					<!-- <li><a href="#">分离的链接</a></li>
					<li class="divider"></li>
					<li><a href="#">另一个分离的链接</a></li> -->
				</ul>
			</li>
		</ul>
	</div>
	</div>
</nav>


<!-- Single Project Section -->

<section id="single-project">
     <div class="container">
          <div class="row">

               <div class="col-md-offset-1 col-md-10 col-sm-12">
                    <h1>当前热门歌曲</h1>
                    <!-- <a href="/top/list?idx=6"><i class="fa fa-long-arrow-right"></i> View Website</a> -->
                    <div>
                        <dt>
                            <h3>
                                <dd id="btn"></dd>
                            </h3> 
                        </dt> 
                    </div>
                    <!-- <div class="pos-rlt">
                        <a href="track-detail.html" id="posthref"><img src="images/author-image1.jpg" id="postpicture" onload='if (this.width>140 || this.height>226) if (this.width/this.height>140/226) this.width=140; else this.height=226;'alt="" class="r r-2x img-full"></a>
                    </div>
                    <div class="padder-v">
                            <a href="track-detail.html" data-bjax data-target="#bjax-target" data-el="#bjax-el" data-replace="true" class="text-ellipsis">Nisi nec condimentum</a>
                            <a href="track-detail.html" data-bjax data-target="#bjax-target" data-el="#bjax-el" data-replace="true" class="text-ellipsis text-xs text-muted">Miaow</a>
                    </div> -->
               </div>

          </div>
     </div>
</section>

<!-- Footer Section -->


<footer>
        <div class="container">
             <div class="row">
   
   
                  <div class="col-md-offset-1 col-md-6 col-sm-offset-5 col-sm-3">
                       <p><a href="mailto:doyleliu96@gmail.com">doyleliu96@gmail.com</a></p>
                       <p>Shanghai Jiao Tong University</p>
                  </div>
   
                  <!-- <div class="clearfix col-md-12 col-sm-12">
                       <hr>
                  </div> -->
   
                  <!-- <div class="col-md-6 col-sm-6">
                       <ul class="social-icon">
                            <li><a href="#" class="fa fa-facebook"></a></li>
                            <li><a href="#" class="fa fa-twitter"></a></li>
                            <li><a href="#" class="fa fa-linkedin"></a></li>
                       </ul>
                  </div> -->
                  
             </div>
        </div>
   </footer>


<!-- SCRIPTS -->

<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/custom.js"></script>
<script type = "text/javascript" >
var musicurl = ""; 
$(function LoginQueryAccount(){
    $.getJSON("/top/list?idx=1",function(data){  
        var $jsontip = $(".rightdiv");
        var $tmp = 0; 
        $jsontip.empty();//清空内容  
        for($tmp = 0; $tmp < 15; $tmp ++){
            // console.log(data["result"]["tracks"][$tmp]["id"])
            var myitem = data["result"]["tracks"][$tmp]["name"]
            var musicid = data["result"]["tracks"][$tmp]["id"];
            musicid = "/music/url?id=" + musicid;
            //
            var musicauthor = "";
            var picurl = "";
            musicauthor = data["result"]["tracks"][$tmp]["artists"][0]["name"];
            //console.log(data["result"]["tracks"][$tmp]["album"]["picUrl"]);
            picurl = data["result"]["tracks"][$tmp]["album"]["picUrl"];
            (function name(item,author,picture) {
                $.getJSON(musicid,(data2)=>{
                musicurl = data2["data"][0]["url"];
                var $songplayer = "player.html#/";
                
                var musicid2 = "";
                musicid2 = data2["data"][0]["id"];
                // console.log(musicid2);
                $songplayer = $songplayer +"+" + item +"+"+ musicurl +"+" + author + "+" + picture + "+" + musicid2;
                $("#btn").append(`<a href="${$songplayer}"><dd>${item}</dd></a>`);
            })
            })(myitem,musicauthor,picurl)
            
            
        }
    }) 
})
</script> 

</body>
</html>